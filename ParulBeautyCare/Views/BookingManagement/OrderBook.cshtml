@model ParulBeautyCareViewModel.ViewModel.BookingMgmtViewModel.BookingHeaderViewModel

@{
    ViewBag.Title = "OrderBook";
    ViewBag.Module = "BookingManagement";

}
<script src="~/Content/assets/css/html2pdf.bundle.min.js"></script>
<style>
    .fonted p {
        font-size: 0.75rem !important;
        line-height: 0.75rem !important;
    }

    .design_card {
        border: 2px solid #f32a6e;
        background-color: #f2125e00;
        transform: perspective(1000px) rotateY(0deg);
        transition: transform 0.5s ease;
        border-radius: 10px;
        box-shadow: 0 0 15px 15px #f2125e78;
    }

    .content-wrapper {
        background-color: #f0f0f0;
        padding: 20px;
    }

    .card {
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }

    .wrapper-2 {
        padding: 30px;
        text-align: center;
    }

    h1 {
        font-size: 5em;
        letter-spacing: 3px;
        color: #00328d;
        margin: 0;
        margin-bottom: 20px;
        text-shadow: 2px 2px 5px #7b5f5f;
    }

    .wrapper-2 p {
        margin: 0;
        font-size: 1.5em;
        color: black;
        letter-spacing: 1px;
    }

    .go-home {
        color: #fff;
        background: #5892FF;
        border: none;
        padding: 10px 50px;
        margin: 30px 0;
        border-radius: 30px;
        text-transform: capitalize;
        box-shadow: 0 10px 16px 1px rgba(174, 199, 251, 1);
    }
</style>
<div class="content-wrapper">
    <div class="row">
        <div class="col-12 grid-margin">
            <div class="card" style="background: linear-gradient(90deg, rgba(242,18,94,0.6755077030812324) 0%, rgba(247,0,84,0.0984768907563025) 100%); ">
                <div class="card-body">
                    <div class="row">

                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-body" id="pdfContainer">
                                    <div class="container-fluid d-flex justify-content-center mt-2">
                                        <b><span class="h2 link-underline-light doubleBorder" id="billDept"></span></b>
                                    </div>
                                    <hr />
                                    <div class="container-fluid d-flex justify-content-between">
                                        <div class="col-lg-5 pl-0 fonted">
                                            <p class="d-flex"><i class="fa-solid fa-location-dot fa-xl mx-2 mt-2"></i><span>@Model.BookingHeaderList.FirstOrDefault().DeptAddress</span></p>
                                            <p><i class="fa-brands fa-square-whatsapp fa-xl mx-2 "></i><span>96242 51323 - 98257 17517</span></p>
                                            <p><i class="fa-brands fa-square-instagram fa-xl mx-2 "></i><span>paruls_bridal</span></p>
                                            <p><i class="fa-brands fa-square-facebook fa-xl mx-2 "></i><span>parul's beauty care</span></p>
                                            <p><i class="fa-solid fa-envelope fa-xl mx-2"></i><span>paruls.beautycare@gmail.com</span></p>
                                        </div>
                                        <div class="col-lg-7 pr-0">
                                            <img id="logoImage" style="float:right !important">
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="container-fluid d-flex justify-content-between">
                                        <div class="col-lg-6 col-md-6 pl-0">
                                            <p id="custId" hidden>Id</p>
                                            <p><b>No :</b><span class="h5 mx-2">@Model.BookingId</span></p>
                                            <p><b>Name :</b><span class="h5 mx-2">@Model.BookingHeaderList.FirstOrDefault().CustomerName</span></p>
                                            <p><b>Contact No :</b><span class="h5 mx-2">@Model.BookingHeaderList.FirstOrDefault().ContactNo</span></p>
                                            <p><b>Address :</b><span class="h5 mx-2">@Model.BookingHeaderList.FirstOrDefault().Address</span></p>
                                            <p><b>Function Date :</b><span class="h5 mx-2">@Model.BookingHeaderList.FirstOrDefault().BDate</span></p>
                                            <p><b>Booking Amount :</b><span class="h5 mx-2">@Model.BookingHeaderList.FirstOrDefault().TotalAmount</span></p>
                                        </div>
                                        <div class="col-lg-6 col-md-6 pr-0">
                                            <p><b>Date : </b><span class="h5 mx-2">@Model.CreateDate</span></p>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="container-fluid mt-3 w-100 fonted">
                                        <p><b><span>સૂચના (Kindly take the note of the following)</span></b></p>
                                        <p><b><span>૧. ડીપોઝીટ વગર બુકીંગ કરવામાં આવશે નહીં.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The booking shall be only considered after we receive the deposit amount.</span></p>
                                        <p><b><span>૨. કોઇપણ કારણસર ઓર્ડર કેન્સલ થતા ડીપોઝીટ પરત આપવામાં આવશે નહીં.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In case you cancel the order, the deposit amount shall remain non-refundable.</span></p>
                                        <p><b><span>૩. ફંકશનની તારીખ પહેલા પુરૂ પેમેન્ટ ચુકવવાનું રહેશે.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We expect full payment before the date of the event.</span></p>
                                        <p><b><span>૪. એસેસરીઝ પાછી આપ્યા પછી જ ડીપોઝીટ પરત મળશે.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The deposit shall only be refunded once you hand over all the accessories back to us.</span></p>
                                        <p><b><span>૫. એસેસરીઝને પેપરમાં જુદી જુદી મુકી પરત આપવી.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please pack the accessories separately while returning.</span></p>
                                        <p><b><span>૬. વાળ તથા બ્રોચને જુદા જુદા પરત કરવા.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please pack hair extensions (wigs) and broached separately.</span></p>
                                        <p><b><span>૭. એસેસરીઝ તૈયાર થયાના બીજે દિવસે જ પરત કરવાની રહેશે નહી તો એકસ્ટ્રા ચાર્જ આપવાનો રહેશે.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We request you to return the accessories the very next day of your event. If you fail to do so,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we would be liable to take extra charges for delay.</span></p>
                                        <p><b><span>૮. એસેસરીઝ ખરાબ થતા અથવા તુટતા ચાર્જ આપવાનો રહેશે.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In case of damage to the accessories you will be liable to pay extra charges.</span></p>
                                        <p><b><span>૯. તમારા કોઈપણ કિંમતી સામાનની જવાબદારી આમારી રહેશે નહીં.</span></b></p>
                                        <p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We are not responsible for misplacement of your personal belongings.</span></p>
                                    </div>
                                    <hr />
                                    <div class="container-fluid d-flex justify-content-between">
                                        <div class="col-lg-6 col-md-6 pr-0">
                                            <p><b>Customer Sign. :</b><span class="h5 mx-2"></span></p>

                                        </div>
                                        <div class="col-lg-6 col-md-6 pr-0">
                                            <p><b>Inst. Head Sign. :</b><span class="h5 mx-2"></span></p>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <CENTER>
                                <div class="wrapper-2 my-5">
                                    <h1>Thank you !</h1>
                                    <p>Thank you for booking your beauty appointment with us!  </p>
                                    <p>We're excited to see you soon!  </p>

                                </div>
                                @*<button id="downloadPDFButton2" onclick="confirmAndSubmit('print')" class="btn btn-primary float-right"><i class="fa-solid fa-save mx-2"></i>Submit</button>*@
                                <button id="downloadPDFButton3" onclick="downloadPDF2()" class="btn btn-warning float-right mx-1"><i class="fa-solid fa-print mx-2"></i>Print</button>
                                <a href="~/BookingManagement/BookAppointment" class="btn btn-behance float-right"><i class="fas fa-regular fa-calendar-plus mx-2"></i>Book Appointment</a>
                            </CENTER>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        var logoImage = $('#logoImage');
        var width, height;
        var deptAbrv = "@Model.BookingHeaderList.FirstOrDefault().DeptAbrv";
        if (deptAbrv === "PBC") {
            logoImage.attr('src', '../Images/PBC.png');
            width = 300;
            height = 100;
        } else if (deptAbrv === "PBS") {
            logoImage.attr('src', '../Images/PBS.png');
            width = 100;
            height = 100;
        } else if (deptAbrv === "PNS") {
            logoImage.attr('src', '../Images/PNS.png');
            width = 300;
            height = 100;
        }
        logoImage.css({
            width: width + "px",
            height: height + "px"
        });
    });
    function downloadPDF2() {
        var element = document.getElementById('pdfContainer');
        var currentDate = new Date();
        var formattedDate = currentDate.getFullYear() + "-" + (currentDate.getMonth() + 1) + "-" + currentDate.getDate();
        var invoicenum = $("#invNo").text();
        var opt = {
            margin: 10,
            filename: invoicenum + '_' + formattedDate + '.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().from(element).set(opt).toPdf().get('pdf').then(function (pdf) {
            window.open(pdf.output('bloburl'), '_blank');
        });
    }
</script>